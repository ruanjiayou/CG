<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
    <meta name="Author" content="阮家友"/>
    <meta name="Keywords" content="HTML,model,test"/>
    <meta name="Description" content="special effect model"/>
    <meta name="time" content="2015-9-27 10:41:48"/>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"/>
	<title>test</title>
    <link rel="stylesheet" href="css/reset.css"/>
    <script src="js/jquery.js"></script>
    <script src="js/Core.js"></script>
    <script src="js/CGraph.js"></script>
    <script src="js/CColor.js"></script>
    <style>
        #center {padding:2rem;}
    </style>
</head>
<body>
    <canvas id="oc" width="400" height="300"></canvas>
    <canvas id="oc2" width="400" height="300"></canvas>
<script>
    function reLat(lat){
        if(shadow==0){
            var PI = Math.PI;  
            var y = -parseFloat(lat) * PI / 180;   
            y = 0.5 * Math.log((1+Math.sin(y)) / (1 - Math.sin(y)));  
            y *= 1.0/(2 * PI);   
            y += 0.5;
            var lat2=90.0-y*360;
            return lat2;
        }else{
            return lat;
        }
    }
    function reLatMo(lat){
        if(shadow==0){
            var y=(90.0-lat)/360;
            var a = Math.PI*(1-2*y);  
            var e = Math.E;  
            var rad = (Math.pow(e,a)-Math.pow(e,-a))*0.5  
            var latrad = Math.atan(rad);  
            var lat0 = latrad*180.0/Math.PI;  
            return lat0; 
        }else{
            return lat;
        }
    }
    var obj = new CCanvas("oc").proprety({
        "stokeStyle": "#666",
        "fillStyle": "#1f77b4",
        "font": "16px Arial",
        "textAlign": "center"
    });
    var shadow=0;
    for(var i=-90;i<=90;i++){
        var x = 200+i*2;
        var y = 150;
        y -= reLat(i);
        //console.log(reLat(i));
        obj.drawLine({'x1': x, 'y1': 150, 'x2': x, 'y2': y });
    }
    var obj2 = new CCanvas("oc2").proprety({
        "stokeStyle": "#666",
        "fillStyle": "#1f77b4",
        "font": "16px Arial",
        "textAlign": "center"
    });
    for(var i=-90;i<=90;i++){
        var x = 200+i*2;
        var y = 150;
        y -= reLatMo(i);
        console.log(reLatMo(i));
        obj2.drawLine({'x1': x, 'y1': 150, 'x2': x, 'y2': y });
    }
    //obj.load("images/yifei3.jpg",function(){
    //    //this.drawLine({"x1":10,"y1":10,"x2":100,"y2":100}).this.each(this.medianFilter).render();
    //    this.each(this.medianFilterRow);
    //    this.appendA2B(this.createCanvas(this.mData),document.body);
    //});
</script>
</body>
</html>
